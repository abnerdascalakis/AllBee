
























<header>
  <nav class="navbar navbar-light bg-light fixed-top border-bottom py-3">
    <div class="container-fluid d-flex align-items-center gap-4">

      <!-- LOGO + TOGGLER -->
      <div class="d-flex align-items-center gap-3">
        <%= link_to root_path, class: "navbar-brand m-0" do %>
          <%= image_tag "logo.jpg", alt: "logo", class: "img-fluid", style: "max-height:40px" %>
        <% end %>

        <button class="navbar-toggler d-lg-none" type="button"
                data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>

      <!-- BUSCA -->
      <div class="d-none d-lg-block flex-grow-1" style="max-width: 520px;">
        <div class="search-bar d-flex align-items-center bg-light p-2 rounded-4 border">
          <select class="form-select border-0 bg-transparent w-auto d-none d-md-block">
            <option>Todas categorias</option>
            <option>Mel</option>
            <option>P√≥len</option>
            <option>Pr√≥polis</option>
          </select>

          <%= form_with url: produtos_path, method: :get, class: "flex-grow-1", local: true do %>
            <%= text_field_tag :q, params[:q],
              class: "form-control border-0 bg-transparent",
              placeholder: "Buscar produtos..." %>
          <% end %>

          <button class="btn border-0 bg-transparent">
            üîç
          </button>
        </div>
      </div>

      <!-- MENU -->
      <ul class="navbar-nav d-none d-lg-flex flex-row gap-4 mb-0 text-uppercase fw-bold">
        <li class="nav-item">
          <%= link_to "Home", root_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Produtos", produtos_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Sobre n√≥s", "#", class: "nav-link" %>
        </li>
      </ul>

      <!-- √çCONES -->
      <div class="col-sm-8 col-lg-2 d-flex gap-5 align-items-center justify-content-center justify-content-sm-end">
  <ul class="d-flex justify-content-end list-unstyled m-0">
    <!-- Wishlist SEMPRE vis√≠vel -->
    <li>
      <% if user_signed_in? %>
        <%= link_to produtos_path, class: "p-2 mx-1", title: "Minha Lista de Desejos" do %>
          <svg width="24" height="24"><use xlink:href="#wishlist"></use></svg>
        <% end %>
      <% else %>
        <%= link_to new_user_session_path, class: "p-2 mx-1", title: "Fazer login para usar lista de desejos" do %>
          <svg width="24" height="24"><use xlink:href="#wishlist"></use></svg>
        <% end %>
      <% end %>
    </li>
    
    <!-- Login/Logout -->
    <% if user_signed_in? %>
      <li>
        <%= button_to destroy_user_session_path, method: :delete, class: "p-2 mx-1", title: "Sair" do %>
          <svg width="24" height="24"><use xlink:href="#teste"></use></svg>
        <% end %>
      </li>
    <% else %>
      <li>
        <%= link_to new_user_session_path, class: "p-2 mx-1", title: "Entrar" do %>
          <svg width="24" height="24"><use xlink:href="#user"></use></svg>
        <% end %>
      </li>
    <% end %>
    
    <!-- Carrinho vis√≠vel -->
    <li>
      <a href="#" class="p-2 mx-1" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCart" aria-controls="offcanvasCart">
        <svg width="24" height="24"><use xlink:href="#shopping-bag"></use></svg>
      </a>
    </li>
  </ul>
<div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="offcanvasCart">
  <div class="offcanvas-header justify-content-center">
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div class="order-md-last">
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span class="text-primary">Your cart</span>
        <span class="badge bg-primary rounded-pill">3</span>
      </h4>
      <ul class="list-group mb-3">
        <li class="list-group-item d-flex justify-content-between lh-sm">
          <div>
            <h6 class="my-0">Growers cider</h6>
            <small class="text-body-secondary">Brief description</small>
          </div>
          <span class="text-body-secondary">$12</span>
        </li>
        <li class="list-group-item d-flex justify-content-between lh-sm">
          <div>
            <h6 class="my-0">Fresh grapes</h6>
            <small class="text-body-secondary">Brief description</small>
          </div>
          <span class="text-body-secondary">$8</span>
        </li>
        <li class="list-group-item d-flex justify-content-between lh-sm">
          <div>
            <h6 class="my-0">Heinz tomato ketchup</h6>
            <small class="text-body-secondary">Brief description</small>
          </div>
          <span class="text-body-secondary">$5</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <span>Total (USD)</span>
          <strong>$20</strong>
        </li>
      </ul>
      <button class="w-100 btn btn-primary btn-lg" type="submit">Continue to checkout</button>
    </div>
  </div>
</div>


  </nav>
</header>
